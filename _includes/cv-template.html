{%- assign cv = site.data.cv -%}

<!-- ===== Chinese ===== -->
<div class="lang-zh cv-root">

  {%- if cv.basics -%}
  <section class="cv-section cv-basics">
    <h1 class="cv-name">{{ cv.basics.name.zh | default: cv.basics.name }}</h1>
    <p class="cv-label">{{ cv.basics.label.zh }}</p>
    <p class="cv-contacts">
      {%- if cv.basics.email -%}<span>✉ {{ cv.basics.email }}</span>{%- endif -%}
      {%- if cv.basics.website -%}<span> · 🌐 <a href="{{ cv.basics.website }}">{{ cv.basics.website }}</a></span>{%- endif -%}
      {%- if cv.basics.location and cv.basics.location.city -%}
        <span> · 📍 {{ cv.basics.location.city.zh }}{% if cv.basics.location.countryCode %}, {{ cv.basics.location.countryCode }}{% endif %}</span>
      {%- endif -%}
    </p>
    {%- if cv.basics.summary and cv.basics.summary.zh -%}
      <p class="cv-summary">{{ cv.basics.summary.zh }}</p>
    {%- endif -%}
    {%- if cv.basics.profiles -%}
      <p class="cv-profiles">
        {%- for p in cv.basics.profiles -%}
          <a href="{{ p.url }}">{{ p.network }}</a>{% unless forloop.last %} · {% endunless %}
        {%- endfor -%}
      </p>
    {%- endif -%}
  </section>
  {%- endif -%}

  {%- if cv.education and cv.education.size > 0 -%}
  <section class="cv-section">
    <h2>教育经历</h2>
    <ul class="cv-list">
      {%- for e in cv.education -%}
      <li>
        <strong>{{ e.institution.zh }}</strong> — {{ e.area.zh }}
        {%- if e.endDate -%}（{{ e.endDate }}）{%- endif -%}
        {%- if e.gpa -%}<div>GPA: {{ e.gpa }}</div>{%- endif -%}
        {%- if e.courses and e.courses.zh -%}
          <div>核心课程：{{ e.courses.zh | join: "，" }}</div>
        {%- endif -%}
      </li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

  {%- if cv.work and cv.work.size > 0 -%}
  <section class="cv-section">
    <h2>经历</h2>
    <ul class="cv-list">
      {%- for w in cv.work -%}
      <li>
        <strong>{{ w.company.zh }}</strong> — {{ w.position.zh }}
        {%- if w.startDate or w.endDate -%}
          <span class="cv-dates">（{{ w.startDate }}{% if w.endDate %}–{{ w.endDate }}{% endif %}）</span>
        {%- endif -%}
        {%- if w.summary and w.summary.zh -%}<div>{{ w.summary.zh }}</div>{%- endif -%}
        {%- if w.highlights and w.highlights.zh -%}
          <ul class="cv-highlights">
            {%- for h in w.highlights.zh -%}<li>{{ h }}</li>{%- endfor -%}
          </ul>
        {%- endif -%}
      </li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

  {%- if cv.skills and cv.skills.size > 0 -%}
  <section class="cv-section">
    <h2>技能</h2>
    <ul class="cv-list">
      {%- for s in cv.skills -%}
      <li>
        <strong>{{ s.name.zh }}</strong>：
        {{ s.keywords.zh | default: s.keywords | join: "、" }}
      </li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

  {%- if cv.portfolio and cv.portfolio.size > 0 -%}
  <section class="cv-section">
    <h2>项目</h2>
    <ul class="cv-list">
      {%- for p in cv.portfolio -%}
      <li>
        <strong>{{ p.name.zh }}</strong>{% if p.date %}（{{ p.date }}）{% endif %}
        {%- if p.description and p.description.zh -%} — {{ p.description.zh }}{%- endif -%}
        {%- if p.url -%} · <a href="{{ p.url }}">链接</a>{%- endif -%}
      </li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

  {%- if cv.languages and cv.languages.size > 0 -%}
  <section class="cv-section">
    <h2>语言</h2>
    <ul class="cv-list">
      {%- for l in cv.languages -%}
      <li>{{ l.language.zh }}（{{ l.fluency.zh }}）</li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

  {%- if cv.interests and cv.interests.size > 0 -%}
  <section class="cv-section">
    <h2>兴趣</h2>
    <ul class="cv-list">
      {%- for i in cv.interests -%}
      <li>
        {{ i.name.zh }}{% if i.keywords and i.keywords.zh %}：{{ i.keywords.zh | join: "、" }}{% endif %}
      </li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

</div>

<!-- ===== English ===== -->
<div class="lang-en cv-root">

  {%- if cv.basics -%}
  <section class="cv-section cv-basics">
    <h1 class="cv-name">{{ cv.basics.name.en | default: cv.basics.name }}</h1>
    <p class="cv-label">{{ cv.basics.label.en }}</p>
    <p class="cv-contacts">
      {%- if cv.basics.email -%}<span>✉ {{ cv.basics.email }}</span>{%- endif -%}
      {%- if cv.basics.website -%}<span> · 🌐 <a href="{{ cv.basics.website }}">{{ cv.basics.website }}</a></span>{%- endif -%}
      {%- if cv.basics.location and cv.basics.location.city -%}
        <span> · 📍 {{ cv.basics.location.city.en }}{% if cv.basics.location.countryCode %}, {{ cv.basics.location.countryCode }}{% endif %}</span>
      {%- endif -%}
    </p>
    {%- if cv.basics.summary and cv.basics.summary.en -%}
      <p class="cv-summary">{{ cv.basics.summary.en }}</p>
    {%- endif -%}
    {%- if cv.basics.profiles -%}
      <p class="cv-profiles">
        {%- for p in cv.basics.profiles -%}
          <a href="{{ p.url }}">{{ p.network }}</a>{% unless forloop.last %} · {% endunless %}
        {%- endfor -%}
      </p>
    {%- endif -%}
  </section>
  {%- endif -%}

  {%- if cv.education and cv.education.size > 0 -%}
  <section class="cv-section">
    <h2>Education</h2>
    <ul class="cv-list">
      {%- for e in cv.education -%}
      <li>
        <strong>{{ e.institution.en }}</strong> — {{ e.area.en }}
        {%- if e.endDate -%} ({{ e.endDate }}){%- endif -%}
        {%- if e.gpa -%}<div>GPA: {{ e.gpa }}</div>{%- endif -%}
        {%- if e.courses and e.courses.en -%}
          <div>Key Courses: {{ e.courses.en | join: ", " }}</div>
        {%- endif -%}
      </li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

  {%- if cv.work and cv.work.size > 0 -%}
  <section class="cv-section">
    <h2>Experience</h2>
    <ul class="cv-list">
      {%- for w in cv.work -%}
      <li>
        <strong>{{ w.company.en }}</strong> — {{ w.position.en }}
        {%- if w.startDate or w.endDate -%}
          <span class="cv-dates"> ({{ w.startDate }}{% if w.endDate %}–{{ w.endDate }}{% endif %})</span>
        {%- endif -%}
        {%- if w.summary and w.summary.en -%}<div>{{ w.summary.en }}</div>{%- endif -%}
        {%- if w.highlights and w.highlights.en -%}
          <ul class="cv-highlights">
            {%- for h in w.highlights.en -%}<li>{{ h }}</li>{%- endfor -%}
          </ul>
        {%- endif -%}
      </li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

  {%- if cv.skills and cv.skills.size > 0 -%}
  <section class="cv-section">
    <h2>Skills</h2>
    <ul class="cv-list">
      {%- for s in cv.skills -%}
      <li>
        <strong>{{ s.name.en }}</strong>:
        {{ s.keywords.en | default: s.keywords | join: ", " }}
      </li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

  {%- if cv.portfolio and cv.portfolio.size > 0 -%}
  <section class="cv-section">
    <h2>Projects</h2>
    <ul class="cv-list">
      {%- for p in cv.portfolio -%}
      <li>
        <strong>{{ p.name.en }}</strong>{% if p.date %} ({{ p.date }}){% endif %}
        {%- if p.description and p.description.en -%} — {{ p.description.en }}{%- endif -%}
        {%- if p.url -%} · <a href="{{ p.url }}">Link</a>{%- endif -%}
      </li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

  {%- if cv.languages and cv.languages.size > 0 -%}
  <section class="cv-section">
    <h2>Languages</h2>
    <ul class="cv-list">
      {%- for l in cv.languages -%}
      <li>{{ l.language.en }} ({{ l.fluency.en }})</li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

  {%- if cv.interests and cv.interests.size > 0 -%}
  <section class="cv-section">
    <h2>Interests</h2>
    <ul class="cv-list">
      {%- for i in cv.interests -%}
      <li>
        {{ i.name.en }}{% if i.keywords and i.keywords.en %}: {{ i.keywords.en | join: ", " }}{% endif %}
      </li>
      {%- endfor -%}
    </ul>
  </section>
  {%- endif -%}

</div>
